Configuration
=============

The configuration file looks like this:

.. code-block:: json

   {
     "debug": false,
     "useBash": false,
     "deleteOfflineRunners": false,
     "deleteOfflineRunnersOnlyWithTag": true,
     "deleteOfflineRunnersWithTag": "autogenerated",
     "containerRAM": -1,
     "containerSWAP": -1,
     "containerCPU": -1,
     "checkEverySeconds": 15,
     "runnerConfiguration": [
       {
         "tag": "latest",
         "ghToken": "gh_token",
         "group": "Default",
         "org": "org",
         "tags": [
           "ubuntu",
           "autogenerated"
         ],
         "min": 2,
         "max": 10
       }
     ]
   }

The individual values mean:

* ``debug``:
   Should the application be run in debug mode?
   (Additional information is then displayed while it is being executed.
   Useful if something does not work as it should)

* ``useBash``:
   If no docker containers are created although s.RunnerManager says it
   had created some you should try to switch this setting on. However,
   it only works on Linux-based systems.

* ``deleteOfflineRunners``:
   Should all runners that are currently offline be deleted when the software starts?

* ``deleteOfflineRunnersOnlyWithTag``:
   Should all runners that are currently offline and have the tag from
   ``deleteOfflineRunnersWithTag`` be deleted when the software starts?
   (If this setting is switched on, it will overwrite the setting ``deleteOfflineRunners``)

* ``deleteOfflineRunnersWithTag``:
   With this setting you can determine which runner with which "tag"
   should be deleted when the setting ``deleteOfflineRunnersOnlyWithTag`` is enabled.

* ``containerRAM``:
   How much RAM should individual runners/containers be able to use?
   Specification in MB. ``-1`` means infinite.

* ``containerSWAP``:
   How much SWAP should individual runners/containers be able to use?
   Specification in MB. ``-1`` means infinite.
   To be able to use this setting, ``containerRAM`` must not be set to ``-1``!

* ``containerCPU``:
   How much CPU should individual runners/containers be able to use?
   Specification in percent of cpu cores. ``-1`` means infinite.
   (As an example your cpu has 4 cores and you want
   to assign a quarter per container you have to set ``100``.)

* ``checkEverySeconds``:
   How often should s.RunnerManager check whether new runners are needed?
   Too low a value can lead to GitHub rate limits, which can lead to errors.

* ``runnerConfiguration``:
   The individual runner groups can be set here. The group ``runnerConfiguration`` can be
   copied multiple times, even for the same organization, but only for different tags.

* ``runnerConfiguration.tag``:
   Here you have to set which docker tag you want to use.
   `Here <https://github.com/myoung34/docker-github-actions-runner#docker-artifacts>`__
   is a list of all the tags.

* ``runnerConfiguration.ghToken``:
   Your Github Personal Access Token is required to connect.
   You can create it `here <https://github.com/settings/tokens>`__.
   Please set the following permissions:

   *  repo (all)
   *  admin:org (all)
   *  admin:public_key - read:public_key
   *  admin:repo_hook - read:repo_hook
   *  admin:org_hook
   *  notifications
   *  workflow

* ``runnerConfiguration.group``:
   The runner group from GitHub must be set here.
   The standard group is called ``Default``.

* ``runnerConfiguration.org``:
   The organization name of GitHub.

* ``runnerConfiguration.tags``:
   Which tags should be assigned to the runners when creating runners?

* ``runnerConfiguration.min``:
   How many free runners should there be at least?

* ``runnerConfiguration.max``:
   What is the maximum number of runners allowed to exist at the same time?
